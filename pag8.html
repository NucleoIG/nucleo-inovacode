<!DOCTYPE html>
<html lang="pt">
<head>
  <link rel="icon" type="image/png" href="ippl.png">
  <meta property="og:title" content="InovaCode">
  <meta property="og:description" content="WebSite do N칰cleo De Inform치tica do IPPLS">
  <meta property="og:image" content="ippl.png">
  <meta property="og:type" content="website"> 
  <meta property="og:url" content="https://inovacode-nucleo.netlify.app">
  <meta name="viewport" content="whidth=device-width,initial-scale=1.0">
  <meta charset="UTF-8">
  <title>InovaCode</title>
  <link rel="stylesheet" href="noticia.css">
  
  <script src="noticias.js" defer></script>
</head>
<body>

<h1 class="neon">游닗 Not칤cias do N칰cleo</h1>

<div id="listaNoticias" class="container"></div>


<script>
    function publicarNoticia() {
  const titulo = document.getElementById("titulo").value.trim();
  const imagem = document.getElementById("imagem").value.trim();
  const texto = document.getElementById("texto").value.trim();

  if (!titulo || !texto) {
    alert("Preencha todos os campos!");
    return;
  }

  const noticia = { titulo, imagem, texto };
  let noticias = JSON.parse(localStorage.getItem("noticias")) || [];
  noticias.push(noticia);
  localStorage.setItem("noticias", JSON.stringify(noticias));

  alert("Not칤cia publicada com sucesso!");
  document.getElementById("titulo").value = "";
  document.getElementById("imagem").value = "";
  document.getElementById("texto").value = "";

  mostrarNoticias(); // Atualiza a lista
}

// Mostrar not칤cias na p치gina administrativa com bot칚o excluir
function mostrarNoticias() {
  const lista = document.getElementById("listaNoticias");
  if (!lista) return;

  let noticias = JSON.parse(localStorage.getItem("noticias")) || [];
  lista.innerHTML = ""; // limpa lista antes de preencher

  noticias.forEach((n, index) => {
    const div = document.createElement("div");
    div.className = "noticia card neon";

    div.innerHTML = `
      <img src="${n.imagem || 'https://via.placeholder.com/300'}" alt="Not칤cia">
      <h3>${n.titulo}</h3>
      <p>${n.texto}</p>
    `;

    // Bot칚o excluir apenas na 치rea administrativa
    const btnExcluir = document.createElement("button");
   
    btnExcluir.addEventListener("click", () => {
      noticias.splice(index, 1); // remove do array
      localStorage.setItem("noticias", JSON.stringify(noticias));
      mostrarNoticias(); // atualiza a lista
    });

    div.appendChild(btnExcluir);
    lista.appendChild(div);
  });
}

// Carrega not칤cias automaticamente ao abrir a p치gina
document.addEventListener("DOMContentLoaded", mostrarNoticias);

</script>
</body>
</html>